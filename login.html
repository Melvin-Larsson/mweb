<!DOCTYPE html>
<html lang="en">
    <head>
        <script>
          const socket = new WebSocket("ws://localhost:1234");
          socket.addEventListener("open", (event) => {
            console.log("Socket opened");
          });
          socket.onerror = (error) => {
            console.error("WebSocket error:", error);
          };
          socket.onclose = (event) => {
            console.log("Websocket connection closed");
            window.close()
          }

          function handleCredentialResponse(credentials){
            console.log("Sending credentials " + credentials.credential);
            let message = "token: " + credentials.credential;
            socket.send(message);
          }
        </script>
        <script src="https://accounts.google.com/gsi/client" async></script>
</head>

    <body>
        <div id="g_id_onload"
             data-auto_prompt="true"
             data-callback="handleCredentialResponse"
             data-client_id="999280691250-d1n9p76651gscgepuc3fdlrjt5qs8vct.apps.googleusercontent.com">
        </div>

        <div class="g_id_signin"></div>
<!--              data-login_uri="http://localhost:6969" -->
    </body>
</html>

